{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">
    <h1>Edit System: {{ system.name }}</h1>

    <!-- Users List -->
    <div class="mb-3">
        <h2>Users</h2>
        {% if system.users.all %}
            <ul class="list-group">
                {% for user in system.users.all %}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        {{ user.username }}
                        <!-- Add a button or link for remove user logic here -->
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No users.</p>
        {% endif %}
    </div>

    <!-- Invitation Form -->
    <form method="post" class="mb-3">
        {% csrf_token %}
        <div class="mb-3">
            {{ invite_form.as_p }}
        </div>
        <button type="submit" name="invite_user" class="btn btn-primary">Send Invitation</button>
    </form>

    <!-- Edit System Form -->
    <form method="post">
        {% csrf_token %}
        <div class="mb-3">
            {{ form.as_p }}
        </div>
        <button type="submit" name="edit_system" class="btn btn-success">Save changes</button>
    </form>

</div>
{% endblock %}
